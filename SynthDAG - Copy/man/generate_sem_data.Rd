% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generate_sem.R
\name{generate_sem_data}
\alias{generate_sem_data}
\title{Generate Synthetic Data from a DAG using a Linear SEM (Updated)}
\usage{
generate_sem_data(
  dag,
  n_samples,
  coeff_gen_params = list(distribution = "uniform", min = -1.5, max = 1.5,
    exclude_zero_range = 0.2),
  noise_gen_params = list(type = "gaussian", mean = 0, var_min = 0.5, var_max = 2),
  node_specific_noise_config = NULL,
  auto_noise_profile = NULL,
  latent_nodes = NULL,
  use_regime_mixture = FALSE,
  seed = NULL
)
}
\arguments{
\item{dag}{A dagitty object, e.g., from `generate_causal_dag()`.}

\item{n_samples}{Integer. The total number of samples to generate (N_max).}

\item{coeff_gen_params}{List. Parameters for generating structural coefficients (beta_kj).
Example: `list(distribution = "uniform", min = -1.5, max = 1.5, exclude_zero_range = 0.2)`
`exclude_zero_range` ensures coefficients are not too close to zero, e.g. drawn from
`[min, -exclude_zero_range] U [exclude_zero_range, max]`.}

\item{noise_gen_params}{List. Parameters for generating noise terms (u_j).
Example: `list(type = "gaussian", mean = 0, var_min = 0.5, var_max = 2.0)`
or `list(type = "uniform", low_factor = -sqrt(3), high_factor = sqrt(3), var_min = 0.5, var_max = 2.0)`
or `list(type = "laplace", location = 0, scale_factor = 1/sqrt(2), var_min = 0.5, var_max = 2.0)`
(for laplace, the scale parameter 'b' of Laplace(loc,b) will be scale_factor*sd_j,
 so to get Var(U_j)=sd_j^2, scale_factor should be 1/sqrt(2) if not specified).}

\item{node_specific_noise_config}{List. Specific noise configurations for individual nodes.}

\item{auto_noise_profile}{List. Configuration for automatically assigning diverse noise types.}

\item{latent_nodes}{Character vector or Function. Specifies latent nodes.}

\item{use_regime_mixture}{Logical. If TRUE, some relationships might involve mixture of coefficients.}

\item{seed}{Integer. Optional seed for reproducibility.}
}
\value{
A list containing:
  - `full_data`: A data frame (n_samples x num_nodes) of all generated data.
  - `observed_data`: A data frame (n_samples x num_observed_nodes) with only observed variables.
  - `latent_vars`: Character vector of latent variable names.
  - `sem_parameters`: A list containing coefficients, noise variances, types, etc.
  - `topological_order`: The topological order used for generation.
  - `dag`: The input dagitty object.
  - `theoretical_max_performance`: Theoretical R2, MSE for the last node in topological order.
}
\description{
This function takes a dagitty graph, generates structural equation model
parameters (coefficients and noise terms), and then simulates data.
It also allows for masking certain variables to make them latent.
(Incorporates robustness updates and corrections)
}
